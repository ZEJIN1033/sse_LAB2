<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <title>{{ username }}'s GitHub Repositories</title>
        <style>
            body {
                font-family: Arial, sans-serif;
                text-align: center;
                background-color: #f0f0f0;
                margin: 0;
                padding: 0;
                display: flex;
                flex-direction: column;
                justify-content: center;
                align-items: center;
                min-height: 100vh;
            }
    
            h1 {
                font-size: 24px;
                color: #333;
                margin: 20px 0;
            }
    
            h2 {
                font-size: 20px;
                margin: 10px 0;
            }
    
            table {
                width: 80%;
                border-collapse: collapse;
                border: 1px solid #ccc;
                margin: 10px 0;
            }
    
            table th, table td {
                border: 1px solid #ccc;
                padding: 10px;
                text-align: left;
            }
    
            table th {
                background-color: #f0f0f0;
                text-align: center;
            }
    
            td {
                word-wrap: break-word;
            }
        </style>
    </head>
<body>
    <div class="container">
        <h1>Hello {{ username }}</h1>
        <p>Below are the details of your GitHub repositories and their latest commits:</p>

        {% for repo in all_repos_data %}
            <h2>Repository: {{ repo.name }}</h2>
            <table>
                <thead>
                    <tr>
                        <th>The Commit Hash</th>
                        <th>Author Name</th>
                        <th>Updated Date</th>
                        <th>Commit Message</th>
                    </tr>
                </thead>
                <tbody>
                    {% for commit in repo.commits %}
                        <tr>
                            <td>{{ commit.sha }}</td>
                            <td>{{ commit.author }}</td>
                            <td>{{ commit.date }}</td>
                            <td class="commit-message">{{ commit.message }}</td>
                        </tr>
                    {% endfor %}
                </tbody>
                <p>111</p>
                <thead>
                    <tr>
                        <th>The Commit Hash</th>
                        <th>File Name</th>
                        <th>URL</th>
                    </tr>
                </thead>
                <tbody>
                    {% for content in repo.contents %}
                        <tr>
                            <td>{{ content.sha }}</td>
                            <td>{{ content.file_name }}</td>
                            <td>{{ content.url }}</td>
                        </tr>
                    {% endfor %}
                </tbody>
            </table>
        {% endfor %}
    </div>
</body>
</html>
